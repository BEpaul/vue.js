<script>
import { nextTick } from "vue";

export default {
  data() {
    return {
      tempText: "tempText",
      tempBool: true,
      count: 1,
      author: {
        name: "John Doe",
        books: [
          "Vue 2 - Advanced Guide",
          "Vue 3 - Basic Guide",
          "Vue 4 - The Mystery",
        ],
      },
      isActive: true,
      awesome: true,
      items: [{ message: "Foo" }, { message: "Bar" }],
      name: "Vue.js",
    };
  },
  methods: {
    increment() {
      this.count++;
      nextTick(() => {
        console.log(this.count);
      });
    },
    greet(event) {
      // `this`ëŠ” ë©”ì„œë“œê°€ í™œì„±í™”ëœ í˜„ì¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤.
      alert(`ì•ˆë…• ${this.name}!`);
      // 'event'ëŠ” ë„¤ì´í‹°ë¸Œ DOM ì´ë²¤íŠ¸ ê°ì²´ì…ë‹ˆë‹¤.
      if (event) {
        alert(event.target.tagName);
      }
    },
    warn(message, event) {
      // ì´ì œ ë„¤ì´í‹°ë¸Œ ì´ë²¤íŠ¸ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      if (event) {
        event.preventDefault();
      }
      alert(message);
    },
  },
  computed: {
    publishedBooksMessage() {
      return this.author.books.length > 0 ? "Yes" : "No";
    },
  },

  mounted() {
    console.log(this.count);
    this.increment();
    console.log(this.count);
  },
};
</script>

<template>
  <h1>this is test page.</h1>
  <h2>
    <span>{{ tempText }}</span>
    <br />
    <span>{{ tempBool ? "ì§„ì‹¤" : "ê±°ì§“" }}</span>
    <p v-if="tempBool">ë³´ì´ë‚˜ìš”?</p>
    <p>{{ count }}</p>
  </h2>

  <button @click="increment">Count</button>

  <div :class="{ active: isActive }">
    <p>ì±…ì„ ê°€ì§€ê³  ìˆë‹¤!</p>
    <span>{{ publishedBooksMessage }}</span>
  </div>
  <div>
    <button @click="awesome = !awesome">ì „í™˜</button>

    <h1 v-if="awesome">VueëŠ” ì •ë§ ë©‹ì§€ì£ !</h1>
    <h1 v-else>ì•„ë‹Œê°€ìš”? ğŸ˜¢</h1>
  </div>
  <div>
    <li v-for="item in items">
      {{ item.message }}
    </li>
  </div>
  <div>
    <button @click="greet">í™˜ì˜í•˜ê¸°</button>
    <button @click="warn('ì•„ì§ ì–‘ì‹ì„ ì œì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.', $event)">
      ì œì¶œí•˜ê¸°
    </button>
  </div>
</template>
